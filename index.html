<!doctype html> <html lang="en"> <head> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1" /> <title>Spanish Video Finder</title> <style> :root { --bg:#0b0d12; --panel:#151a22; --text:#e8ecf1; --muted:#9aa4b2; --accent:#4da3ff; --border:#232a35; } *{box-sizing:border-box} html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.45} .container{max-width:1100px;margin:0 auto;padding:16px} header h1{margin:0 0 4px 0;font-size:28px} header p{margin:0;color:var(--muted)} .filters{display:grid;grid-template-columns:repeat(12,1fr);gap:12px;align-items:end;background:var(--panel);border:1px solid var(--border);border-radius:16px;margin-top:12px} .field{grid-column:span 12;display:flex;flex-direction:column;gap:6px} .field label{font-size:13px;color:var(--muted)} .field input,.field select{padding:10px 12px;background:#0f131a;color:var(--text);border:1px solid var(--border);border-radius:10px;outline:0} .buttons{grid-column:span 12;display:flex;gap:8px;flex-wrap:wrap} button{padding:10px 12px;background:#101621;color:var(--text);border:1px solid var(--border);border-radius:10px;cursor:pointer} button:hover{border-color:var(--accent)} @media (min-width:720px){.filters .field:nth-of-type(1){grid-column:span 6}.filters .field:nth-of-type(2){grid-column:span 2}.filters .field:nth-of-type(3){grid-column:span 2}.filters .field:nth-of-type(4){grid-column:span 2}.buttons{grid-column:span 12;justify-content:flex-end}} .count{margin:14px 0;color:var(--muted);font-size:14px} .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:12px} .card{background:var(--panel);border:1px solid var(--border);border-radius:16px;overflow:hidden;display:flex;flex-direction:column} .card-body{padding:14px;display:grid;gap:6px} .title{margin:0;font-size:18px} .meta{margin:0;color:var(--muted);font-size:14px} .link{display:inline-block;padding:8px 10px;width:fit-content;border:1px solid var(--border);border-radius:10px;color:var(--text);text-decoration:none} .link:hover{border-color:var(--accent);color:var(--accent)} .footer{color:var(--muted);font-size:13px;text-align:center;margin:28px 0 40px 0} </style> </head> <body> <header class="container"> <h1>Spanish Video Finder</h1> <p>Filter and search videos by country, speaker, and level.</p> </header> <section class="container filters"> <div class="field"> <label for="search">Search</label> <input id="search" type="text" placeholder="Type to search Task, Country, Speaker" /> </div> <div class="field"> <label for="country">Country</label> <select id="country"><option value="">All</option></select> </div> <div class="field"> <label for="level">Level</label> <select id="level"><option value="">All</option></select> </div> <div class="field"> <label for="speaker">Speaker</label> <select id="speaker"><option value="">All</option></select> </div> <div class="buttons"> <button id="clear">Clear filters</button> <button id="share">Share this view</button> </div> </section> <main class="container"> <div id="count" class="count"></div> <div id="results" class="grid"></div> </main> <template id="card-template"> <article class="card"> <div class="card-body"> <h3 class="title"></h3> <p class="meta"></p> <a class="link" href="#" target="_blank" rel="noopener">Watch</a> </div> </article> </template> <footer class="container footer"> <p>Data embedded in this file.</p> </footer> <!-- Embedded data from your spreadsheet --> <script id="data" type="application/json">REPLACE_ME_WITH_JSON</script> <script> function clean(s){return String(s==null?"":s).replace(/\u00A0|\u202F|\u2007|\u2009/g," ").trim().replace(/\s{2,}/g," ")} function slug(s){return clean(s).toLowerCase()} function canonLevel(label){const v=slug(label);if(v.startsWith("begin"))return"Beginning";if(v.startsWith("intermed"))return"Intermediate";if(v.startsWith("adv"))return"Advanced";return clean(label)} function uniqueSorted(list,key){const set=new Set(list.map(x=>clean(x[key])).filter(Boolean));return Array.from(set).sort((a,b)=>a.localeCompare(b))} function levelEntriesFromData(data){const m=new Map();data.forEach(r=>{const l=canonLevel(r.Level);if(l)m.set(slug(l),l)});return Array.from(m.entries()).sort((a,b)=>a[1].localeCompare(b[1]))} function applyFilters(data,f){const q=slug(f.query),c=slug(f.country),s=slug(f.speaker),lv=slug(f.levelSlug);return data.filter(r=>{const rc=slug(r.Country),rs=slug(r.Speaker),rl=slug(canonLevel(r.Level)),rt=slug(r.Task);if(c&&rc!==c)return false;if(s&&rs!==s)return false;if(lv&&rl!==lv)return false;if(q){const h=[rc,rs,rl,rt].join(" ");if(!h.includes(q))return false}return true})} function renderOptions(sel,vals){sel.innerHTML='<option value="">All</option>'+vals.map(v=>`<option value="${v}">${v}</option>`).join('')} function renderLevelOptions(sel,entries){sel.innerHTML='<option value="">All</option>'+entries.map(([sl,l])=>`<option value="${sl}">${l}</option>`).join('')} function setFromParams(){const p=new URLSearchParams(location.search);return{query:p.get('q')||'',country:p.get('country')||'',levelSlug:p.get('level')||'',speaker:p.get('speaker')||''}} function updateParams(f){const p=new URLSearchParams();if(f.query)p.set('q',f.query);if(f.country)p.set('country',f.country);if(f.levelSlug)p.set('level',f.levelSlug);if(f.speaker)p.set('speaker',f.speaker);const qs=p.toString();history.replaceState({},'',qs?`${location.pathname}?${qs}`:location.pathname)} function renderList(container,rows){container.innerHTML='';const tpl=document.getElementById('card-template');rows.forEach(r=>{const n=tpl.content.cloneNode(true);n.querySelector('.title').textContent=`${clean(r.Task)} (${canonLevel(r.Level)})`;const region=clean(r.Region);n.querySelector('.meta').textContent=`Speaker: ${clean(r.Speaker)} · Country: ${clean(r.Country)}${region?' · Region: '+region:''}`;n.querySelector('.link').href=clean(r.Link);container.appendChild(n)})} (function init(){const data=JSON.parse(document.getElementById('data').textContent);const search=document.getElementById('search'),country=document.getElementById('country'),level=document.getElementById('level'),speaker=document.getElementById('speaker'),clear=document.getElementById('clear'),share=document.getElementById('share'),results=document.getElementById('results'),count=document.getElementById('count');renderOptions(country,uniqueSorted(data,'Country'));renderOptions(speaker,uniqueSorted(data,'Speaker'));renderLevelOptions(level,levelEntriesFromData(data));const initial=setFromParams();search.value=initial.query;country.value=initial.country;level.value=initial.levelSlug;speaker.value=initial.speaker;function current(){return{query:search.value,country:country.value,levelSlug:level.value,speaker:speaker.value}}function refresh(){const f=current();updateParams(f);const rows=applyFilters(data,f);count.textContent=`${rows.length} result${rows.length===1?'':'s'}`;renderList(results,rows)}search.addEventListener('input',refresh);country.addEventListener('change',refresh);level.addEventListener('change',refresh);speaker.addEventListener('change',refresh);clear.addEventListener('click',()=>{search.value='';country.value='';level.value='';speaker.value='';refresh()});share.addEventListener('click',async()=>{const url=location.href;try{await navigator.clipboard.writeText(url);share.textContent='Link copied';setTimeout(()=>share.textContent='Share this view',1500)}catch(e){alert('Copy the URL from your address bar.')}});refresh()})() </script> </body> </html>
